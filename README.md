# 汉字学习游戏

一个基于 React 的汉字学习小游戏，通过拼音选择来学习生字。

## 功能特性

### 🎮 核心玩法
- **生字展示**：显示汉字和含义
- **拼音选择**：提供4个拼音选项，选择正确答案
- **生命系统**：每轮3次错误机会
- **积分系统**：答对获得积分，连续答对有额外奖励

### 📚 生字库管理
- **年级分类**：支持一年级、二年级、三年级
- **关卡系统**：每个年级包含3个关卡
- **生字数据**：包含汉字、拼音、含义
- **随机出题**：避免重复，确保学习效果

### 🏆 成瘾体系
- **积分奖励**：基础积分 + 连续答对奖励
- **等级系统**：不同年级对应不同难度
- **成就系统**：完成年级获得成就徽章
- **进度追踪**：实时显示得分和生命值

### 🎨 用户体验
- **现代化UI**：渐变背景、圆角设计、阴影效果
- **动画效果**：按钮悬停、答对/答错反馈
- **响应式设计**：支持移动端和桌面端
- **直观反馈**：颜色区分正确/错误答案

### 🔊 音效系统
- **答对音效**：选择正确答案时播放提示音
- **答错音效**：选择错误答案时播放提示音
- **Combo音效**：连续答对3次以上播放特殊音效
- **音效管理**：自动预加载，优化播放体验

### ⚡ 特效系统
- **Combo特效**：连续答对2次开始显示combo计数
- **特殊特效**：连续答对3次开始显示旋转特效和闪光
- **进度条**：实时显示关卡完成进度
- **视觉反馈**：答对/答错动画效果

### 💾 数据持久化
- **浏览器指纹**：自动识别用户，保存游戏进度
- **本地存储**：使用localStorage保存用户数据
- **进度同步**：自动加载上次游戏进度
- **成就追踪**：实时更新成就状态

### 🔓 解锁系统
- **年级解锁**：必须完成前一个年级才能解锁下一个年级
- **关卡进度**：显示当前关卡和完成状态
- **进度指示器**：可视化显示关卡完成情况

## 技术栈

- **React 18** - 前端框架
- **Vite** - 构建工具
- **CSS3** - 样式和动画
- **JavaScript ES6+** - 现代JavaScript特性
- **Web Audio API** - 音效播放
- **LocalStorage** - 数据持久化

## 项目结构

```
src/
├── components/          # 游戏组件
│   ├── GameMenu.jsx     # 主菜单
│   ├── GamePlay.jsx     # 游戏进行中
│   ├── GameOver.jsx     # 游戏结束
│   ├── GameVictory.jsx  # 游戏胜利
│   ├── LevelComplete.jsx # 关卡完成
│   └── *.css           # 组件样式
├── hooks/              # 自定义Hook
│   ├── useGame.js      # 游戏逻辑
│   └── useSound.js     # 音效管理
├── data/               # 数据文件
│   └── characters.js   # 生字数据
├── utils/              # 工具函数
│   └── storage.js      # 存储管理
├── App.jsx             # 主应用组件
├── main.jsx            # 应用入口
└── index.css           # 全局样式
public/
└── sounds/             # 音效文件
    ├── correct.mp3     # 正确音效
    ├── incorrect.mp3   # 错误音效
    └── combo.mp3       # Combo音效
```

## 安装和运行

### 安装依赖
```bash
npm install
```

### 开发模式
```bash
npm run dev
```

### 构建生产版本
```bash
npm run build
```

### 预览生产版本
```bash
npm run preview
```

## 游戏规则

1. **选择年级**：从主菜单选择要学习的年级
2. **关卡系统**：每个年级包含3个关卡，必须依次完成
3. **答题模式**：显示生字，选择正确的拼音
4. **生命系统**：每轮有3次错误机会
5. **积分奖励**：
   - 答对：+10分
   - 连续答对2次以上：+5分额外奖励
6. **Combo系统**：
   - 连续答对2次开始显示combo计数
   - 连续答对3次开始特殊音效和特效
   - 最多10次特效和音效
7. **解锁机制**：必须完成前一个年级才能解锁下一个年级
8. **通关条件**：完成该年级所有关卡即可通关

## 成就系统

### 闯关大师
- **初级**：完成3个关卡
- **中级**：完成6个关卡  
- **高级**：完成9个关卡

### 生存专家
- **初级**：死亡次数≤30次
- **中级**：死亡次数≤15次
- **高级**：死亡次数≤5次

### 汉字达人
- **初级**：成功识别15个汉字
- **中级**：成功识别30个汉字
- **高级**：成功识别45个汉字

## 新增功能详解

### 多关卡系统
- **关卡设计**：每个年级3个关卡，难度递增
- **进度保存**：自动保存每个关卡的完成状态
- **解锁机制**：必须完成前一个年级才能解锁下一个年级

### 浏览器指纹存储
- **用户识别**：基于浏览器特征生成唯一ID
- **数据持久化**：使用localStorage保存游戏进度
- **自动恢复**：重新打开游戏时自动加载进度

### 成就系统
- **三个维度**：闯关个数、死亡次数、成功识别字个数
- **三个级别**：初级、中级、高级
- **实时更新**：游戏过程中实时计算成就状态

### 音效修复
- **即时播放**：按钮点击时立即播放音效
- **错误处理**：音效播放失败时的优雅降级
- **性能优化**：预加载音效，避免延迟

## 设计原则

### 游戏设计
- **渐进难度**：按年级和关卡分类，难度递增
- **即时反馈**：答对/答错立即显示结果和音效
- **成就激励**：完成挑战获得成就感
- **重复学习**：避免重复出题，确保学习效果

### 用户体验
- **直观操作**：点击选择，操作简单
- **视觉反馈**：颜色、动画、音效提示
- **进度可视**：实时显示得分、生命值、连续答对
- **响应式设计**：适配不同屏幕尺寸

### 技术实现
- **组件化设计**：模块化组件，易于维护
- **状态管理**：使用React Hooks管理游戏状态
- **性能优化**：避免不必要的重渲染
- **代码规范**：遵循React最佳实践

## 扩展功能

### 可添加的功能
- **音效开关**：用户可控制音效开关
- **排行榜**：本地存储最高分
- **更多年级**：扩展生字库
- **学习统计**：学习进度和错误统计
- **自定义生字**：用户添加生字
- **多语言支持**：国际化

### 技术优化
- **PWA支持**：离线使用
- **数据同步**：云端存储游戏进度
- **性能监控**：错误边界和性能优化
- **单元测试**：组件和逻辑测试

## 音效文件说明

游戏需要以下音效文件：
- `public/sounds/correct.mp3` - 答对音效
- `public/sounds/incorrect.mp3` - 答错音效  
- `public/sounds/combo.mp3` - Combo音效

可以使用以下命令生成占位符文件：
```bash
node scripts/generate-sounds.js
```

## 贡献指南

欢迎提交 Issue 和 Pull Request 来改进这个项目！

## 许可证

MIT License 